Test plan all

Unit Testing
ID	Test Case	Expected Result	Test Outcome	Tolerance
UT1	Successful UDP Transmission	- Gateway receives 1 UDP packet. - Payload matches sent data byte-for-byte	Pass	100 out of 100 test cases, achieved a 100% of success
UT2	Timeout handling - Simulates unreachable gateways	- No response received - Return an error message and retries.	Pass	< xx out of 100 test cases, achieved a xx% of success >
UT3	microSD performance - Read or write 512B and 1kB chunks	- Read and Write for 512B and 1kB completed in ≤ 15ms for 95% of operations	Pass	< xx out of 100 test cases, achieved a xx% of success >

Integration Testing
| ID  | Test Case                                                                 | Expected Result                                                                                                   | Test Outcome | Tolerance                                                   |
|-----|---------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------|-------------|-------------------------------------------------------------|
| IT1 | QoS 0 - Successful message delivery - Sender sends a message to recipient | - Receiver gets exactly 1 message within 1 second - Topic name and payload match exactly the sender's PUBLISH.   | Pass        | 100 out of 100 test cases, achieved a 100% of success      |
| IT2 | QoS 1 - Successful message delivery                                       | - Receiver gets QoS 1 and 1 PUBLISH with correct MsgID - Sender receives PUBACK within timeout window            | Pass        | < xx out of 100 test cases, achieved a xx% of success >    |
| IT3 | QoS 1 - Sender resend message to recipient after failing to receive acknowledgement | - Sender retransmit PUBLISH with DUP = 1 after timeout. - Receiver processes payload once only and sends PUBACK. - Sender stop retries after receiving PUBACK. |             | < xx out of 100 test cases, achieved a xx% of success >    |
| IT4 | QoS 1 - Dropped Connection                                                | - After reconnection, sender resends PUBLISH with DUP = 1. - Receiver sends PUBACK - Final delivery occurs exactly once. |             | < xx out of 100 test cases, achieved a xx% of success >    |
| IT5 | Successful Block Transfer                                                 | - All fragments received and reassembled correctly → Checksum matches original - Subscriber receives 1 complete message, no duplicates. |             | < xx out of 100 test cases, achieved a xx% of success >    |
| IT6 | Successful Block Transfer with fragment loss                              | - Missing fragment detected. Sender retransmits only missing fragment - Reassembly completes successfully. Final payload matches reference checksum. |             | < xx out of 100 test cases, achieved a xx% of success >    |
| IT7 | Successful Topic Registration                                             | - Client receives REGACK with non-zero topic ID within 800 ms.                                                   | Pass        | 50 out of 50 test cases, achieved a 100% of success        |
| IT8 | Successful Topic Subscription • Client sends SUBSCRIBE to Gateway for a topic • Gateway forwards to broker • Gateway responds with SUBACK | • Client receives SUBACK with granted QoS and non-zero topic ID within 800 ms.                                   | Pass        | 50 out of 50 test cases, achieved a 100% of success        |
| IT9 | Auto-Reconnect WiFi • Manually off, wait and on connection • Observe reconnection and time | • Pico reconnects to WiFi and obtains DHCP IP within 3 to 7 seconds • MQTT-SN session automatically restored.    | Pass        | 50 out of 50 test cases, achieved a 100% of success        |
| IT10| Topic Registration after Disconnect                                       | • REGISTER request succeeds, REGACK received within 800 ms • Assigned topic ID is stored and usable.             |             | < xx out of 100 test cases, achieved a xx% of success >    |
| IT11| Successful WiFi Connection • Boot up Pico and execute WiFi connection function • Wait for connection to be established • Pico obtains IP address from DHCP • Pico is connected to WiFi | • Upon boot, Pico W connects to WiFi and obtain DHCP IP within 3 to 7 seconds                                    | Pass        | 50 out of 50 test cases, achieved a 100% of success        |
| IT12| Successful microSD Operations • Verify Pico can read and write to microSD card correctly | Read and write test pattern matches original (no bit errors) • LED blinks success pattern within 1 seconds.      |             | < xx out of 100 test cases, achieved a xx% of success >    |

System Testing
| ID  | Test Case                                         | Expected Outcome                                                                                   | Test Outcome | Tolerance                                                   |
|-----|---------------------------------------------------|----------------------------------------------------------------------------------------------------|-------------|-------------------------------------------------------------|
| ST1 | End to end data flow: Pico #1 → Gateway → Broker → Pico #2 | Pico #2 displays updated value within 5 to 10 seconds of Pico #1 publish • Payload matches original sensor data |             | < xx out of 100 test cases, achieved a xx% of success >    |
| ST2 | Broker to Pico message delivery                   | Pico receives message within 3 to 7 seconds of broker publish • Payload matches broker message exactly |             | < xx out of 100 test cases, achieved a xx% of success >    |
| ST3 | Performance test • High volume of messages (approx 5 messages per second for 60 seconds) | >= 90% messages successfully delivered. • System remains responsive with no resets or freezes     |             | < xx out of 100 test cases, achieved a xx% of success >    |
| ST4 | Power cycle recovery • Restart Pico during session| After reboot, Pico reconnects and restores the MQTT-SN session within <= 15 seconds.              |             | < xx out of 100 test cases, achieved a xx% of success >    |
| ST5 | Packet lost simulation • - UDP drops              | - Pico can publish/subscribe normally after recovery - QoS 0 -> loss observed with no retries - QoS 1 and QoS 2 -> client retires 3 times, successful messages delivered exactly once. - Failure reported after retry limit reached. |             | < xx out of 100 test cases, achieved a xx% of success >    |
